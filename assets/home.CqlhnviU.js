import{u as C,z as T,v as q,i as E,A as N,B as R,C as V,D as G,E as W,F as O,g as J,h as K}from"./app.Bj__erl2.js";import"./chunks/dayjs.BqMCNpOC.js";import{p as m,d as h,O as r,J as s,M as a,L as S,G as F,R as u,o as D,S as g,I as y,K as k,Q as b,P as M,u as i,F as $,W as P,C as c,Y as z,k as w,H as Q}from"./framework.G3zEtWHG.js";import{g as H}from"./animation.Ck-5XlA2.js";import{a as Z}from"./chunks/vue-router.BsZKfFkz.js";import"./chunks/@vueuse/motion.IdxHhwG2.js";import"./chunks/vue-i18n.B04OBaBb.js";import"./chunks/pinia.B9bXv_6k.js";import"./chunks/nprogress.CZUfyql0.js";const U={class:"w-full px-4 flex-center"},X={class:"yun-notice w-full"},ee=["innerHTML"],te=m({__name:"YunNotice",setup(l){const e=h(C().value.notice.content);return(t,n)=>(s(),r("div",U,[a("div",X,[n[0]||(n[0]=a("span",{class:"i-mdi-bullhorn-outline pt-10 inline float-left -rotate-16",text:"black dark:white 2xl"},null,-1)),a("span",{innerHTML:e.value,class:"inline"},null,8,ee),S(t.$slots,"default")])]))}}),ne={},se={class:"grid-bg"};function oe(l,e){return s(),r("div",se,[u(" <YunAEFrame /> "),u(" <YunAERect /> ")])}const ae=F(ne,[["render",oe]]),re={class:"say backdrop-blur-$lin-say-blur bg-white/5"},ie={key:0,class:"say-content animate-fade-in animate-iteration-1"},ce={key:1,class:"say-author"},le=m({__name:"YunSay",setup(l){const e=C(),t=h(""),n=h(""),o=h("");function d(){const _=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;_&&fetch(_).then(f=>{if(f.ok)f.json().then(v=>{if(e.value.say.hitokoto.enable)t.value=v.hitokoto,n.value=v.from_who,o.value=v.from;else{const p=v[Math.floor(Math.random()*v.length)];p.content?(t.value=p.content,n.value=p.author,o.value=p.from):t.value=p}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${f.status}`)}).catch(f=>{console.error(f.message)})}return D(()=>{d()}),(_,f)=>(s(),r("div",re,[t.value?(s(),r("span",ie,"「 "+g(t.value)+" 」",1)):u("v-if",!0),n.value?(s(),r("span",ce,g(o.value)+" · "+g(n.value),1)):u("v-if",!0)]))}}),ue=m({__name:"YunSiteLinkItem",props:{page:{}},setup(l){const e=T();return(t,n)=>{const o=q;return s(),y(o,{class:"link-item inline-flex-center gap-2 transition text-lg p-2 md:text-lg md:p-2 lg:p-3 text-$va-c-text","inline-flex":"",to:t.page.url,title:t.page.name,style:M(`color:${t.page.color}`),hover:"bg-white/50 dark:bg-black/30 shadow-md",onClick:n[0]||(n[0]=d=>i(e).fullscreenMenu.isOpen=!1)},{default:k(()=>[a("div",{class:b([t.page.icon,"icon"])},null,2),a("span",null,g(t.page.name),1)]),_:1},8,["to","title","style"])}}}),_e={key:0,class:"site-description text-$va-c-text text-xl font-800 font-[ZSFT-486]"},pe=m({__name:"YunSiteDescription",setup(l){const e=E();return(t,n)=>i(e).description?(s(),r("div",_e,g(i(e).description),1)):u("v-if",!0)}}),me={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},de=m({__name:"YunSiteSubtitle",setup(l){const e=E();return(t,n)=>i(e).subtitle?(s(),r("h4",me,g(i(e).subtitle),1)):u("v-if",!0)}}),fe=m({__name:"YunAnimLineDraw",setup(l){const e=h(!1);return D(()=>{e.value=!0}),(t,n)=>(s(),r("div",{class:b(["line",{enter:e.value}])},null,2))}}),ve=F(fe,[["__scopeId","data-v-3207662b"]]),he={key:0,class:"site-author-intro",m:"t-0 b-4"},be=m({__name:"YunAuthorIntro",setup(l){const e=E();return(t,n)=>i(e).author.intro?(s(),r("div",he,g(i(e).author.intro),1)):u("v-if",!0)}}),ye={key:0,class:"line-burst-effects absolute"},ge=m({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(l){const e=l,t=h(!0);return D(async()=>{await N(e.delay),t.value=!1,await N(e.duration),t.value=!0}),(n,o)=>t.value?u("v-if",!0):(s(),r("div",ye,[(s(),r($,null,P(8,d=>a("div",{key:d,class:"line"},[...o[0]||(o[0]=[a("div",null,[a("span")],-1)])])),64))]))}}),$e={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl backdrop-blur-$lin-bg-blur py-10 px-7 shadow-2xl bg-white/5 border-solid border-$va-c-text border-1 dark:border-[0.5px] -z-1"},xe={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},ke={class:"py-4 md:py-5 lg:pt-6"},we={flex:"~ col",class:"gap-2 items-center justify-center"},Ye={class:"scale-x--100 py-4 md:py-5 lg:pb-6"},Se={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},Ce=m({__name:"YunPrologueSquare",setup(l){const e=C(),t=h(!1);return(n,o)=>{const d=ge,_=R,f=V,v=be,p=ve,A=G,x=de,Y=pe,I=W,B=ue;return s(),r("div",$e,[S(n.$slots,"default",{},void 0,!0),a("div",{flex:"~ col center",class:b(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:t.value}])},[c(z,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:o[0]||(o[0]=L=>t.value=!0)},{default:k(()=>[a("div",xe,[c(d,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),c(z,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:k(()=>[c(_)]),_:1})])]),_:1}),a("div",{class:b(["info",{show:t.value}])},[c(f,{class:"mt-3"}),c(v),a("div",ke,[c(p)]),a("div",we,[c(A),c(x),c(Y)]),a("div",Ye,[c(p)]),c(I),a("div",Se,[c(B,{page:{name:"博客文章",icon:"i-ri-article-line",url:"/posts/"}}),S(n.$slots,"default",{},void 0,!0),(s(!0),r($,null,P(i(e).pages,(L,j)=>(s(),y(B,{key:j,page:L},null,8,["page"]))),128))])],2)],2)])}}}),Ae=F(Ce,[["__scopeId","data-v-9c21750b"]]),Be=m({__name:"YunGoDown",setup(l){return(e,t)=>(s(),r("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...n)=>i(H)&&i(H)(...n))},[...t[1]||(t[1]=[a("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])]))}}),Le={class:"banner-char-container"},Ne={class:"char"},ze=m({__name:"YunBannerCharContainer",props:{title:{},chars:{}},setup(l){return(e,t)=>(s(),r("div",Le,[(s(!0),r($,null,P(e.title,(n,o)=>(s(),r("div",{key:o,class:"char-box"},[a("span",{class:b([o%2!==0?"char-right":"char-left"]),style:M({"--banner-char-size":`${e.chars[o]}rem`})},[a("span",Ne,g(n),1)],6)]))),128))]))}});function De(l){const e=w(()=>{const n=[];for(let o=0;o<l.title.length;o++){const d=O(1.5,3.5);n.push(d)}return n}),t=w(()=>e.value.reduce((n,o)=>n+o,0));return{chars:e,totalCharHeight:t}}const Ie={class:"banner-line-container"},Te={class:"banner-line-container bottom"},Ee=m({__name:"YunBanner",setup(l){const e=T(),t=C(),{totalCharHeight:n,chars:o}=De(t.value.banner),d=w(()=>{const p={"--total-char-height":`${n.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${n.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(p.borderBottom="1px solid var(--banner-line-color)"),p}),_=h("enter"),f=w(()=>_.value),v=h("banner");return D(async()=>{await N(500),_.value="active",e.isNimbo&&(await N(500),_.value="exit",v.value="prologue")}),(p,A)=>{const x=ze,Y=Be;return s(),r("div",{id:"yun-banner",border:"b-1px b-solid b-$banner-line-color",style:M(d.value)},[a("div",Ie,[a("div",{class:b(["banner-line vertical-line-top",f.value])},null,2)]),i(e).isNimbo?(s(),r($,{key:0},[v.value==="banner"?(s(),y(x,{key:0,title:i(t).banner.title,chars:i(o)},null,8,["title","chars"])):u("v-if",!0)],64)):u("v-if",!0),i(e).isStrato?(s(),y(x,{key:1,title:i(t).banner.title,chars:i(o)},null,8,["title","chars"])):u("v-if",!0),a("div",Te,[a("div",{class:b(["banner-line vertical-line-bottom",f.value])},null,2)]),c(Y)],4)}}}),Fe={class:"w-full"},Me={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},Pe={key:1,class:"h-$yun-nav-height"},Ke=m({__name:"home",setup(l){const e=T(),t=Z(),n=C(),o=w(()=>t.path.startsWith("/page")),d=w(()=>{const _=n.value.notice;return _.enable&&(o.value?!_.hideInPages:!0)});return(_,f)=>{const v=Ee,p=Ae,A=le,x=ae,Y=te,I=Q("RouterView"),B=J,L=K;return s(),r($,null,[c(B,{class:b(["items-center flex-col",{"mt-0!":!o.value}])},{default:k(()=>[i(n).banner.enable?(s(),r($,{key:0},[o.value?u("v-if",!0):(s(),r($,{key:0},[a("div",Fe,[c(v),i(e).isNimbo?(s(),y(z,{key:0,"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:k(()=>[a("div",Me,[c(z,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:k(()=>[c(p,{class:"z-1"})]),_:1})])]),_:1})):u("v-if",!0),i(n).say.enable?(s(),y(A,{key:1,w:"full"})):u("v-if",!0)]),i(e).isNimbo?(s(),y(x,{key:0,class:"absolute left-0 top-0 right-0 bottom-0"})):u("v-if",!0)],64))],64)):(s(),r("div",Pe)),d.value?(s(),y(Y,{key:2,class:b(["mb-2 md:mb-6",{"mt-4":!o.value}]),content:i(n).notice.content},null,8,["class","content"])):u("v-if",!0),S(_.$slots,"board"),S(_.$slots,"default",{},()=>[c(I)])]),_:3},8,["class"]),c(L)],64)}}});export{Ke as default};
