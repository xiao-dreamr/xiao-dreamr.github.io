const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mermaid.core.tscUq-jQ.js","assets/framework.G3zEtWHG.js","assets/chunks/dayjs.BqMCNpOC.js","assets/YunComment.vue_vue_type_style_index_0_lang.BUk52cte.js","assets/app.Bj__erl2.js","assets/chunks/vue-router.BsZKfFkz.js","assets/chunks/@vueuse/motion.IdxHhwG2.js","assets/chunks/vue-i18n.B04OBaBb.js","assets/chunks/pinia.B9bXv_6k.js","assets/chunks/nprogress.CZUfyql0.js","assets/app.B4_sCyoA.css","assets/index.C5okkQwF.js","assets/YunComment.CtqTB8vW.css"])))=>i.map(i=>d[i]);
import{p as g,d as h,k as E,l as m,O as k,J as w,_ as F,w as S,I as U,b as D}from"./framework.G3zEtWHG.js";import{x as M,w as T}from"./app.Bj__erl2.js";import"./chunks/dayjs.BqMCNpOC.js";import{i as O}from"./chunks/@vueuse/motion.IdxHhwG2.js";function v(e){return Object.keys(e).forEach(t=>e[t]===void 0?delete e[t]:{}),e}const p=typeof Buffer=="function",_=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",N=Array.prototype.slice.call(L),f=(e=>{let t={};return e.forEach((n,o)=>t[n]=o),t})(N),R=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),b=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),C=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),z=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,H=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return d((n>>>10)+55296)+d((n&1023)+56320);case 3:return d((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return d((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},I=e=>e.replace(z,H),Z=e=>{if(e=e.replace(/\s+/g,""),!R.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,o,r=[];for(let a=0;a<e.length;)t=f[e.charAt(a++)]<<18|f[e.charAt(a++)]<<12|(n=f[e.charAt(a++)])<<6|(o=f[e.charAt(a++)]),n===64?r.push(d(t>>16&255)):o===64?r.push(d(t>>16&255,t>>8&255)):r.push(d(t>>16&255,t>>8&255,t&255));return r.join("")},B=typeof atob=="function"?e=>atob(C(e)):p?e=>Buffer.from(e,"base64").toString("binary"):Z,P=p?e=>b(Buffer.from(e,"base64")):e=>b(B(e).split("").map(t=>t.charCodeAt(0))),V=p?e=>Buffer.from(e,"base64").toString("utf8"):_?e=>_.decode(P(e)):e=>I(B(e)),j=e=>C(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),J=e=>V(j(e));let $=e=>crypto.getRandomValues(new Uint8Array(e)),q=(e,t,n)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*o*t/e.length);return(a=t)=>{let s="";for(;;){let i=n(r),l=r|0;for(;l--;)if(s+=e[i[l]&o]||"",s.length===a)return s}}},G=(e,t=21)=>q(e,t,$);const K=M(()=>({theme:"default"})),Q=G("abcedfghicklmn",10),y=new Map;async function W(e,t,n){const o=t+JSON.stringify(n),r=y.get(o);if(r)return r;e.initialize({startOnLoad:!1,...v(K()||{}),...v(n)});const a=J(t),s=Q(),{svg:i}=await e.render(s,a);return y.set(o,i),i}const X=g({__name:"ShadowRoot",props:{innerHtml:{}},emits:["shadow"],setup(e,{emit:t}){const n=e,o=t,r=h(),a=E(()=>r.value?r.value.shadowRoot||r.value.attachShadow({mode:"open"}):null);return m(()=>{a.value&&n.innerHtml&&(o("shadow",a.value),a.value.innerHTML=n.innerHtml)}),(s,i)=>(w(),k("div",{ref_key:"el",ref:r},null,512))}}),ne=g({__name:"ValaxyMermaid",props:{code:{},scale:{},theme:{}},setup(e){const t=e,n=D(),o=h(),r=h(""),a=T();return O&&F(()=>import("./mermaid.core.tscUq-jQ.js").then(s=>s.bB),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(s=>s.default).then(s=>{s.startOnLoad=!1,s.initialize({startOnLoad:!1}),m(async l=>{let u=!1;l(()=>{u=!0});const c=await W(s,t.code||"",{theme:t.theme||(a.isDark?"dark":void 0),...n.attrs});u||(r.value=c)});const i=h();S(r,()=>{i.value=void 0}),m(()=>{var u,c,x;const l=(c=(u=o.value)==null?void 0:u.children)==null?void 0:c[0];if(l&&l.hasAttribute("viewBox")&&i.value==null){const A=Number.parseFloat(((x=l.getAttribute("viewBox"))==null?void 0:x.split(" ")[3])||"");i.value=Number.isNaN(A)?void 0:A}},{flush:"post"}),m(()=>{var u,c;const l=(c=(u=o.value)==null?void 0:u.children)==null?void 0:c[0];l!=null&&t.scale!=null&&i.value!=null&&(l.setAttribute("height",`${i.value*t.scale}`),l.removeAttribute("width"),l.removeAttribute("style"))},{flush:"post"})}),(s,i)=>(w(),U(X,{class:"mermaid","inner-html":r.value,onShadow:i[0]||(i[0]=l=>o.value=l)},null,8,["inner-html"]))}});export{ne as _};
