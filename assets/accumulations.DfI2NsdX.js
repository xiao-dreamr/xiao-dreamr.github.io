import{v as A,a as C,y as S,g as B,h as I}from"./app.Bj__erl2.js";import"./chunks/dayjs.BqMCNpOC.js";import{b as N}from"./chunks/@vueuse/motion.IdxHhwG2.js";import{p as g,d as b,k as y,a3 as T,O as s,J as o,F as _,W as w,Z as F,P as H,C as p,R as v,K as M,M as r,N as $,S as x,G as k,L as V,I as W,u as D}from"./framework.G3zEtWHG.js";import"./chunks/vue-router.BsZKfFkz.js";import"./chunks/vue-i18n.B04OBaBb.js";import"./chunks/pinia.B9bXv_6k.js";import"./chunks/nprogress.CZUfyql0.js";const z={class:"flex"},P=["visible"],Y=["innerHTML"],j={key:0,class:"m-3 text-xs text-gray-500 w-full text-right accumulation-author"},E={key:0},G={key:1},J=g({__name:"LinAccumulationCard",props:{i:{},accumulation:{},color:{}},setup(f){const m={easeIn:[.18,.66,.05,.96]},t=f,l=b();N(l,{initial:{opacity:0,y:50},enter:{opacity:1,y:0,transition:{delay:t.i*50,type:"spring",ease:m.easeIn,damping:8,duration:400}}});const u=y(()=>{const a={writingMode:t.accumulation.align};return a.backgroundColor="rgba(255,255,255,0.9)",a.color||(a.color="black"),t.accumulation.align?a.writingMode=t.accumulation.align:(a.writingMode="vertical-rl",a.letterSpacing="0.2em"),a}),i=y(()=>{if(t.accumulation.essence){var n=[];for(let c=0;c<t.accumulation.essence.length;c++)n.push(t.accumulation.essence[c].replaceAll("|","<br/>&#12288&#12288"));return n}else{var a;return a=t.accumulation.content.replaceAll("|","<br/>&#12288&#12288"),[a]}});return(a,n)=>{const c=T("motion");return o(!0),s(_,null,w(i.value,(h,e)=>(o(),s("div",z,[F((o(),s("div",{initial:{opacity:0,y:80,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:250,damping:20,mass:1.3,delay:e*200}},hovered:{scale:1.05},flex:"~ col center",display:"inline-grid",class:"m-5 rounded shadow-lg p-2 accumulation-card",style:H(u.value)},[p(A,{to:t.accumulation.path},{default:M(()=>[r("div",{herf:"content",class:"m-5 text-xl accumulation-content",innerHTML:h},null,8,Y)]),_:2},1032,["to"]),t.accumulation.author?(o(),s("div",j,[n[0]||(n[0]=$(" —— ",-1)),t.accumulation.period?(o(),s("span",E,"〔"+x(t.accumulation.period)+"〕",1)):v("v-if",!0),$(x(t.accumulation.author)+" ",1),t.accumulation.source?(o(),s("span",G," · "+x(t.accumulation.source),1)):v("v-if",!0)])):v("v-if",!0)],12,P)),[[c]])]))),256)}}}),K=k(J,[["__scopeId","data-v-b25d34fc"]]),O={class:"w-full px-4 flex-center m-1.5rem"},R={class:"yun-notice w-full"},Z=["innerHTML"],q={class:"flex justify-center flex-wrap flex-1"},Q=g({__name:"LinAccumulations",setup(f){function m(i={}){const a=S();return y(()=>{const n=a.value.filter(e=>{var d,L;return((d=e.path)==null?void 0:d.startsWith("/accumulations"))&&e.path!=="/accumulations"&&!((L=e.path)!=null&&L.endsWith(".html"))&&e.date&&(!i.type||e.type===i.type)&&(!e.hide||e.hide==="index")}),c=n.filter(e=>e.index).sort((e,d)=>(d.index??0)-(e.index??0)),h=n.filter(e=>!e.index).sort(()=>Math.random()-.5);return c.concat(h)})}const t=C(),l=b(t.value.notice),u=m().value;return(i,a)=>(o(),s(_,null,[r("div",O,[r("div",R,[r("span",{innerHTML:l.value},null,8,Z),V(i.$slots,"default",{},void 0,!0)])]),r("div",q,[(o(!0),s(_,null,w(D(u),(n,c)=>(o(),W(K,{accumulation:n,i:c,class:"flex"},null,8,["accumulation","i"]))),256))])],64))}}),U=k(Q,[["__scopeId","data-v-d26e1f36"]]),X={flex:"~ col",class:"pt-0 lg:px-5rem md:px-3rem sm:px-0"},rt=g({__name:"accumulations",setup(f){return(m,t)=>{const l=B,u=I;return o(),s(_,null,[p(l,null,{default:M(()=>[r("div",X,[p(U)])]),_:1}),p(u)],64)}}});export{rt as default};
